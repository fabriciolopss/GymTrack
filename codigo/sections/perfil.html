<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles/style.css" />
    <link rel="stylesheet" href="../styles/usuario.css" />
    <title>Usuário</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
    <script src="https://unpkg.com/lucide@latest"></script>
  </head>

  <body>
    <div class="content-wrapper">
      <header class="header">
        <div class="d-flex flex-row header">
          <div class="header-item"><i data-lucide="user"></i></div>
          <div class="header-item" onclick="">Dashboard</div>
          <div class="header-item">Consultar fichas</div>
          <div class="header-item">Progresso</div>
          <div class="header-item"><i data-lucide="bookmark"></i></div>
          <div class="header-item"><i data-lucide="bell-dot"></i></div>
        </div>
      </header>

      <div id="main-content" class="container bg-light">
        <div id="dados"></div>
        <button id="editar">Editar perfil</button>
        <button id="concluir-edicao">Concluir</button>
      </div>
    </div>
  </body>
</html>

<script>
  lucide.createIcons();

  document.addEventListener("DOMContentLoaded", function () {
    new LayoutManager();
  });

  const dadosUsuarioRaw = JSON.parse(localStorage.getItem("gymAppData")).profile;
  let dadosUsuario = JSON.parse(localStorage.getItem("gymAppData")).profile;

  const divDados = document.querySelector("#dados");
  const botaoEditar = document.querySelector("#editar");

  function traducaoDados() {
    let anoNascimento = dadosUsuarioRaw.pessoal.data_nascimento.substring(0, 4);
    let mesNascimento = dadosUsuarioRaw.pessoal.data_nascimento.substring(5, 7);
    let diaNascimento = dadosUsuarioRaw.pessoal.data_nascimento.substring(8, 10);

    dadosUsuario.pessoal.data_nascimento =
      diaNascimento + "/" + mesNascimento + "/" + anoNascimento;
  }

  traducaoDados();

  divDados.innerHTML = `<ul class="list-unstyled row">
    <h1 class="fs-1 text-secondary mt-3 col-12">Dados pessoais</h1>
    <li class="col-4">Nome completo: <strong>${dadosUsuario.pessoal.nome_completo}</strong></li>
    <li class="col-4">Data de nascimento: <strong>${dadosUsuario.pessoal.data_nascimento}</strong></li>
    <li class="col-4">Gênero: <strong>${dadosUsuario.pessoal.genero}</strong></li>
    <li class="col-12">Email: <strong>${dadosUsuario.pessoal.email}</strong></li>
    <li class="col-4">Altura (cm): <strong>${dadosUsuario.pessoal.altura_cm}</strong></li>
    <li class="col-4">Peso (kg): <strong>${dadosUsuario.pessoal.peso_kg}</strong></li>
    <li class="col-4">Telefone: <strong>${dadosUsuario.pessoal.telefone}</strong></li>
  </ul>
  <ul class="list-unstyled">
    <h1 class="fs-1 text-secondary">Objetivos</h1>
    <li>Experiência: <strong>${dadosUsuario.objetivos.experiencia_previa}</strong></li>
    <li>Frequência semanal:<strong>${dadosUsuario.objetivos.frequencia_semanal}</strong></li>
    <li>Objetivo principal:<strong>${dadosUsuario.objetivos.objetivo_principal}</strong></li>
    <li>Tipo de atividade: <strong>${dadosUsuario.objetivos.tipo_treino}</strong></li>
  </ul>`;

  botaoEditar.addEventListener("click", e => {
    e.preventDefault();
    divDados.innerHTML = `<ul class="list-unstyled row">
      <h1 class="fs-1 text-secondary mt-3 col-12">Dados pessoais</h1>
      <li class="col-4" id="nome">
        Nome completo: <input type="text" value="${dadosUsuario.pessoal.nome_completo}">
      </li>
      <li class="col-4" id="nascimento">
        Data de nascimento: <input type="date" value="${dadosUsuarioRaw.pessoal.data_nascimento}">
      </li>
      <li class="col-4" id="genero">
        Gênero: <strong>${dadosUsuario.pessoal.genero}</strong>
      </li>
      <li class="col-12" id="email">
        Email: <input type="email" value="${dadosUsuario.pessoal.email}">
      </li>
      <li class="col-4" id="altura">
        Altura (cm): <input type="number" value="${dadosUsuario.pessoal.altura_cm}">
      </li>
      <li class="col-4" id="peso">
        Peso (kg): <input type="number" value="${dadosUsuario.pessoal.peso_kg}">
      </li>
      <li class="col-4" id="telefone">
        Telefone: <input type="tel" value="${dadosUsuario.pessoal.telefone}">
      </li>
    </ul>
    <ul class="list-unstyled">
      <h1 class="fs-1 text-secondary">Objetivos</h1>
      <li id="experiencia">
        Experiência: <strong>${dadosUsuario.objetivos.experiencia_previa}</strong>
      </li>
      <li id="frequencia">
        Frequência semanal:<strong>${dadosUsuario.objetivos.frequencia_semanal}</strong>
      </li>
      <li id="objetivo">
        Objetivo principal:<strong>${dadosUsuario.objetivos.objetivo_principal}</strong>
      </li>
      <li id="atividade">
        Tipo de atividade: <strong>${dadosUsuario.objetivos.tipo_treino}</strong>
      </li>
    </ul>`;

    let liGenero = document.querySelector("#genero");
    switch (dadosUsuario.pessoal.genero) {
      case "Masculino":
        liGenero.innerHTML = `<label for="genero">Gênero:</label>
        <select name="genero" required>
          <option value="" hidden>Selecione</option>
          <option value="Masculino" selected>Masculino</option>
          <option value="Feminino">Feminino</option>
          <option value="Não binário">Não binário</option>
          <option value="Prefiro não informar">Prefiro não identificar</option>
        </select>`;
        break;

      case "Feminino":
        liGenero.innerHTML = `<label for="genero">Gênero:</label>
        <select name="genero" required>
          <option value="" hidden>Selecione</option>
          <option value="Masculino">Masculino</option>
          <option value="Feminino" selected>Feminino</option>
          <option value="Não binário">Não binário</option>
          <option value="Prefiro não informar">Prefiro não identificar</option>
        </select>`;
        break;

      case "Não binário":
        liGenero.innerHTML = `<label for="genero">Gênero:</label>
        <select name="genero" required>
          <option value="" hidden>Selecione</option>
          <option value="Masculino">Masculino</option>
          <option value="Feminino">Feminino</option>
          <option value="Não binário" selected>Não binário</option>
          <option value="Prefiro não informar">Prefiro não identificar</option>
        </select>`;
        break;

      case "Prefiro não informar":
        liGenero.innerHTML = `<label for="genero">Gênero:</label>
        <select name="genero" required>
          <option value="">Selecione</option>
          <option value="Masculino">Masculino</option>
          <option value="Feminino">Feminino</option>
          <option value="Não binário">Não binário</option>
          <option value="Prefiro não informar" selected>Prefiro não identificar</option>
        </select>`;
        break;
    }
  
    let liExper = document.querySelector("#experiencia");
    switch (dadosUsuario.objetivos.experiencia_previa) {
      case "Iniciante":
        liExper.innerHTML = `<label for="experiencia">Experiência:</label>
        <select name="experiencia" required>
          <option value="" hidden>Selecione</option>
          <option value="Iniciante" selected>Iniciante</option>
          <option value="Intermediário">Intermediário</option>
          <option value="Avançado">Avançado</option>
        </select>`;
        break;

      case "Intermediário":
        liExper.innerHTML = `<label for="experiencia">Experiência:</label>
        <select name="experiencia" required>
          <option value="" hidden>Selecione</option>
          <option value="Iniciante">Iniciante</option>
          <option value="Intermediário" selected>Intermediário</option>
          <option value="Avançado">Avançado</option>
        </select>`;
        break;

      case "Avançado":
        liExper.innerHTML = `<label for="experiencia">Experiência:</label>
        <select name="experiencia" required>
          <option value="" hidden>Selecione</option>
          <option value="Iniciante">Iniciante</option>
          <option value="Intermediário">Intermediário</option>
          <option value="Avançado" selected>Avançado</option>
        </select>`;
        break;
    }
      
    let liFreq = document.querySelector("#frequencia");
    switch (dadosUsuario.objetivos.frequencia_semanal) {
      case "2-3 vezes":
        liFreq.innerHTML = `<label for="frequencia">Frequência:</label>
        <select name="frequencia" required>
          <option value="" hidden>Selecione...</option>
          <option value="2-3 vezes" selected>2-3 vezes</option>
          <option value="3-4 vezes">3-4 vezes</option>
          <option value="5+ vezes">5+ vezes</option>
        </select>`;
        break;

      case "3-4 vezes":
        liFreq.innerHTML = `<label for="frequencia">Frequência:</label>
        <select name="frequencia" required>
          <option value="" hidden>Selecione...</option>
          <option value="2-3 vezes">2-3 vezes</option>
          <option value="3-4 vezes" selected>3-4 vezes</option>
          <option value="5+ vezes">5+ vezes</option>
        </select>`;
        break;

      case "5+ vezes":
        liFreq.innerHTML = `<label for="frequencia">Frequência:</label>
        <select name="frequencia" required>
          <option value="" hidden>Selecione...</option>
          <option value="2-3 vezes">2-3 vezes</option>
          <option value="3-4 vezes">3-4 vezes</option>
          <option value="5+ vezes" selected>5+ vezes</option>
        </select>`;
        break;
    }
    
    let liObj = document.querySelector("#objetivo");
    switch (dadosUsuario.objetivos.objetivo_principal) {
      case "Perda de peso":
        liObj.innerHTML = `<label for="objetivo">Objetivo principal:</label>
        <select name="objetivo" required>
          <option value="Perda de peso" selected>Perda de peso</option>
          <option value="Ganho de massa muscular">Ganho de massa muscular</option>
          <option value="Condicionamento físico">Condicionamento físico</option>
          <option value="Saúde e bem-estar">Saúde e bem-estar</option>
        </select>`;
        break;
      case "Ganho de massa muscular":
        liObj.innerHTML = `<label for="objetivo">Objetivo principal:</label>
        <select name="objetivo" required>
          <option value="Perda de peso">Perda de peso</option>
          <option value="Ganho de massa muscular" selected>Ganho de massa muscular</option>
          <option value="Condicionamento físico">Condicionamento físico</option>
          <option value="Saúde e bem-estar">Saúde e bem-estar</option>
        </select>`;
        break;
      case "Condicionamento físico":
        liObj.innerHTML = `<label for="objetivo">Objetivo principal:</label>
        <select name="objetivo" required>
          <option value="Perda de peso">Perda de peso</option>
          <option value="Ganho de massa muscular">Ganho de massa muscular</option>
          <option value="Condicionamento físico" selected>Condicionamento físico</option>
          <option value="Saúde e bem-estar">Saúde e bem-estar</option>
        </select>`;
        break;
      case "Saúde e bem-estar":
        liObj.innerHTML = `<label for="objetivo">Objetivo principal:</label>
        <select name="objetivo" required>
          <option value="Perda de peso">Perda de peso</option>
          <option value="Ganho de massa muscular">Ganho de massa muscular</option>
          <option value="Condicionamento físico">Condicionamento físico</option>
          <option value="Saúde e bem-estar" selected>Saúde e bem-estar</option>
        </select>`;
        break;
    }
    
    let liAtiv = document.querySelector("#atividade");
    switch (dadosUsuario.objetivos.tipo_treino) {
      case "Musculação":
        liAtiv.innerHTML = `<label for="objetivo">Objetivo principal:</label>
        <select name="objetivo" required>
            <option value="Musculação" selected>Musculação</option>
            <option value="Funcional">Funcional</option>
            <option value="Cardio">Cardio</option>
        </select>`;
        break;
      case "Funcional":
        liAtiv.innerHTML = `<label for="objetivo">Objetivo principal:</label>
        <select name="objetivo" required>
            <option value="Musculação">Musculação</option>
            <option value="Funcional" selected>Funcional</option>
            <option value="Cardio">Cardio</option>
        </select>`;
        break;
      case "Cardio":
        liAtiv.innerHTML = `<label for="objetivo">Objetivo principal:</label>
        <select name="objetivo" required>
            <option value="Musculação">Musculação</option>
            <option value="Funcional">Funcional</option>
            <option value="Cardio" selected>Cardio</option>
        </select>`;
        break;
    }
  });
</script>

<script src="../scripts/layout.js"></script>
